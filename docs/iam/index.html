<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Identity and Access Management"><meta property="og:title" content="Identity and Access Management"><meta property="og:description" content="Identity and Access Management IAM Essentials IAM controls access to AWS services via policies, that can be attached to users, groups and roles.
ARN (Amazon Resource Name) Each resource at AWS has unique identifier named ARN (Amazon Resource Name), which has following format
arn:partition:service:region:account_id:[resource|resourecetype/resource|resourcetype/resource/qualifier|resourcetype/resource:qualifier|resourcetype:resource:qualifier]  partition = aws or aws-cn service = AWS service (s3, ec2, rds, dynamodb) region = region code: us-east-1, us-west-2
AWS ARN documentation
Wildcards are supported arn:aws:s3:::my_corporate_bucket/*"><meta property="og:type" content="article"><meta property="og:url" content="https://axill86.github.io/aws-csa-associate/docs/iam/"><title>Identity and Access Management | AWS Certified Solutions Architect – Associate</title><link rel=icon href=/aws-csa-associate/favicon.png type=image/x-icon><link rel=stylesheet href=/aws-csa-associate/book.min.68d45956421753cdf6bcfc865ede445c56afc5bcaaebfe02961f44fe77d8f45a.css integrity="sha256-aNRZVkIXU832vPyGXt5EXFavxbyq6/4Clh9E/nfY9Fo="><script defer src=/aws-csa-associate/en.search.min.c28d5f31184209919d8ae9ab52b50ac73243335d773a343643776c2d7e19e5c2.js integrity="sha256-wo1fMRhCCZGdiumrUrUKxzJDM113OjQ2Q3dsLX4Z5cI="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://axill86.github.io/aws-csa-associate/><span>AWS Certified Solutions Architect – Associate</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/aws-csa-associate/docs/architecture101/>Architecture 101</a></li><li><a href=/aws-csa-associate/docs/aws-architecture-101/>AWS Architecture 101</a></li><li><a href=/aws-csa-associate/docs/s3/>S3 Simple Storage Service</a></li><li><a href=/aws-csa-associate/docs/cfn/>Cloud Formation</a></li><li><a href=/aws-csa-associate/docs/iam/ class=active>Identity and Access Management</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class="flex align-center justify-between book-header"><label for=menu-control><img src=/aws-csa-associate/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Identity and Access Management</strong></header><article class=markdown><h1 id=identity-and-access-management>Identity and Access Management</h1><h2 id=iam-essentials>IAM Essentials</h2><p><strong>IAM</strong> controls access to AWS services via <strong>policies</strong>, that can be attached to users, groups and roles.</p><h3 id=arn-amazon-resource-name>ARN (Amazon Resource Name)</h3><p>Each resource at <em>AWS</em> has unique identifier named <strong>ARN (Amazon Resource Name)</strong>, which has following format</p><pre><code>arn:partition:service:region:account_id:[resource|resourecetype/resource|resourcetype/resource/qualifier|resourcetype/resource:qualifier|resourcetype:resource:qualifier]
</code></pre><p>partition = <em>aws</em> or <em>aws-cn</em>
service = AWS service (s3, ec2, rds, dynamodb)
region = region code: us-east-1, us-west-2</p><p><a href=https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html>AWS ARN documentation</a></p><p>Wildcards are supported
<code>arn:aws:s3:::my_corporate_bucket/*</code></p><h3 id=credentials>Credentials</h3><ol><li>Username/password - longterm credential which can be used to access console</li><li>Access keys - longterm credentials, which can be used with AWS CLI</li><li>Short term - used by roles</li></ol><p><strong>NB:</strong> By default IAM identity does not have permissions to do anything (<em>Deny</em> by default)</p><h2 id=iam-policies>IAM policies</h2><p><a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html>IAM Policies AWS doc</a></p><p><strong>IAM policy</strong> is a document, which can be attached to Identity or Resource</p><p><strong>IAM Policy Document</strong></p><ul><li>Version</li><li>Statement(s)<ul><li>SID (id of policy)</li><li>Effect (Allow or Deny)</li><li>Action - list of Actions (wildcards are supported)</li><li>Resource - ARN</li><li>Conditions (?)</li></ul></li></ul><p><strong>Example</strong></p><pre><code>{
 &quot;Version&quot;: &quot;2012-10-17&quot;,
 &quot;Statement&quot;: [
     {
     &quot;Sid&quot;: &quot;FirstStatement&quot;,
     &quot;Effect&quot;: &quot;Allow&quot;,
     &quot;Action&quot;: [&quot;iam:ChangePassword&quot;],
     &quot;Resource&quot;: &quot;*&quot;
     },
     {
     &quot;Sid&quot;: &quot;SecondStatement&quot;,
     &quot;Effect&quot;: &quot;Allow&quot;,
     &quot;Action&quot;: &quot;s3:ListAllMyBuckets&quot;,
     &quot;Resource&quot;: &quot;*&quot;
     },
     {
     &quot;Sid&quot;: &quot;ThirdStatement&quot;,
     &quot;Effect&quot;: &quot;Allow&quot;,
     &quot;Action&quot;: [
         &quot;s3:List*&quot;,
         &quot;s3:Get*&quot;
     ],
     &quot;Resource&quot;: [
         &quot;arn:aws:s3:::confidential-data&quot;,
         &quot;arn:aws:s3:::confidential-data/*&quot;
     ],
     &quot;Condition&quot;: {&quot;Bool&quot;: {&quot;aws:MultiFactorAuthPresent&quot;: &quot;true&quot;}}
     }
 ]
 }
</code></pre><h3 id=types-of-iam-policies>Types of IAM Policies</h3><ul><li><strong>Inline</strong> - attached directly to user/role/group</li><li><strong>Managed</strong><ul><li><strong>AWS Managed</strong></li><li><strong>Customer Managed</strong></li></ul></li></ul><h3 id=nb-exam-tips><strong>NB</strong> Exam Tips</h3><ul><li>Implicit default Deny is applied by default</li><li>Explicit Deny overrides anything</li><li>All policies are merged during verification (user, group, role)</li></ul><h2 id=iam-users>IAM Users</h2><p><a href=https://docs.amazonaws.cn/en_us/IAM/latest/UserGuide/id_users.html>AWS IAM Users doc</a>
<strong>IAM Users</strong> are type of IAM identity suitable for long-term access for known entity (human, service, app)</p><h3 id=authentication>Authentication</h3><p>Principals authenticate to IAM with username/password or Access Keys
Iam user has ARN assigned. Also, user can have tags (like many other AWS resources)</p><h3 id=limits>Limits</h3><ul><li><strong>Hard Limit</strong> - <strong>5000</strong> IAM susers per account</li><li>IAM user can be member of up to 10 groups</li><li>Inline policies size should not exceen 2048 character</li><li>1 MFA pper user</li><li>2 Access key</li></ul><h2 id=iam-groups>IAM Groups</h2><p><a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html>AWS IAM groups</a>
<strong>IAM Group</strong> is a collections of IAM users, which allow easier administration over users. Groups <em>can not</em> be principle in a policy, so they can't be used in Resource policy
Group can be associated with managed policy or can have inline policy.</p><h3 id=exam-facts>Exam Facts</h3><ul><li>Groups are admin feature to group users</li><li>User can be member of multiple groups (up to 10)</li><li>Groups can not be referenced from from resource policies</li><li>Groups have no credentials</li></ul><h2 id=access-keys>Access Keys</h2><p><a href=https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html>AWS CREDENTIAL</a></p><ul><li><strong>Access Key Id</strong> - public part of the key</li><li><strong>Secret Access Key</strong> private part<ul><li>Can not be restored</li><li>Can not be changed</li></ul></li><li>There are two keys per user max</li><li>User keys don't expire</li></ul><h2 id=iam-roles>IAM Roles</h2><p><a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html>IAM ROLES AWS DOC</a></p><p>IAM role can have two types of policies</p><ul><li>Trust Policy</li><li>IAM Permission Policy</li></ul><p><a href=https://docs.aws.amazon.com/STS/latest/APIReference/Welcome.html>STS (Simple token Service)</a> creates temporary credentials when identity Assumes role</p><h3 id=roles-example-scenarios>Roles Example scenarios</h3><ul><li>Emergency resource access for a person, who usually does not have that access</li><li>For Service to perform action. Following services can do <strong>sts:AssumeRole</strong>:<ul><li>IAM User</li><li>AWS Service</li><li>External Account</li><li>Web identities</li></ul></li><li>Cross-acount access</li><li>Web Identity Federation</li></ul></article><div class="book-footer justify-between"></div></div><aside class="book-toc levels-6 fixed"><nav id=TableOfContents><ul><li><a href=#iam-essentials>IAM Essentials</a><ul><li><a href=#arn-amazon-resource-name>ARN (Amazon Resource Name)</a></li><li><a href=#credentials>Credentials</a></li></ul></li><li><a href=#iam-policies>IAM policies</a><ul><li><a href=#types-of-iam-policies>Types of IAM Policies</a></li><li><a href=#nb-exam-tips>NB Exam Tips</a></li></ul></li><li><a href=#iam-users>IAM Users</a><ul><li><a href=#authentication>Authentication</a></li><li><a href=#limits>Limits</a></li></ul></li><li><a href=#iam-groups>IAM Groups</a><ul><li><a href=#exam-facts>Exam Facts</a></li></ul></li><li><a href=#access-keys>Access Keys</a></li><li><a href=#iam-roles>IAM Roles</a><ul><li><a href=#roles-example-scenarios>Roles Example scenarios</a></li></ul></li></ul></nav></aside></main></body></html>